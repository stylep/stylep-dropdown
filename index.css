@import "stylep-button";
@import "stylep-card";

%dropdown {
  list-style: none;
  opacity: 0;
  padding: 0;
  visibility: hidden;
  transition: visibility 0s .1s, opacity 1s linear;

  &.is-active {
    opacity: 1;
    visibility: visible;
    transition: opacity .1s linear;
  }

  & button {
    @extend %button-block;
    margin: 0;
    text-align: left;
  }
}

%dropdown-inline {
  @extend %card-inline;
  @extend %dropdown;
}

%dropdown-block {
  @extend %card-block;
  @extend %dropdown;
}

@define-mixin dropdown-solid
  $color-passive: #f7f7f7,
  $color-selected: #e8e8e8,
  $color-text: #444,
  $radius-size: 0,
  $border: none,
  $shadow: 0 2px 2px rgba(0, 0, 0, .4)
{
  @mixin card-solid $color-passive, $color-text, $radius-size, $border, $shadow; 

  & button {
    @mixin button-solid $color-passive, $color-selected, $color-text, $radius-size;
  }
}

@define-mixin dropdown-hollow
  $color-passive: #444,
  $color-selected: #e8e8e8,
  $color-text: #444,
  $color-background: #fff,
  $radius-size: 0,
  $border-width: 1px,
  $shadow: none
{
  @mixin card-hollow $color-passive, $color-text, $color-background, $radius-size, $border-width, $shadow; 

  & button {
    @mixin button-solid $color-background, $color-selected, $color-text, $radius-size;
  }
}

/* Callout */
%callout-inline {
  overflow: visible;
  
  &::before,
  &::after {
    content: '';
    position: absolute;
    transform: rotate(45deg);
  }

  &::before {
    width: 15px;
    height: 15px;
  }

  &::after {
    height: 11px;
    width: 11px;
    z-index: -1;
  }
}

@define-mixin callout-solid 
  $color-passive: #f7f7f7,
  $border: none,
  $shadow: 0 0 2px 1px rgba(0, 0, 0, .5)
{
  &::before { background-color: $color-passive; }

  &::after {
    background-color: transparent;
    box-shadow: $shadow;
  }
}

@define-mixin callout-hollow 
  $color-passive: #fff,
  $border: none,
  $shadow: 0 0 0 1px #444
{
  &::before {
    background-color: $color-passive;
    box-shadow: $shadow;
  }
}

@define-mixin callout-position 
  $top: auto,
  $right: auto,
  $bottom: auto,
  $left: auto {
  &::before,
  &::after {
    bottom: $bottom;
    left: $left;
    right: $right;
    top: $top;
  }
}

@define-mixin callout-top $offset: 6px {
  @mixin callout-position -$offset, auto, auto, 50%;
  margin-top: calc($offset * 1.5);

  &::before { margin-left: -2%; }
}

@define-mixin callout-top-right $offset: 6px {
  @mixin callout-position -$offset, $offset;
  margin-top: calc($offset * 1.5);

  &::before { margin-right: -2%; }
}

@define-mixin callout-top-left $offset: 6px {
  @mixin callout-position -$offset, auto, auto, $offset;
  margin-top: calc($offset * 1.5);

  &::before { margin-left: -2%; }
}

@define-mixin callout-bottom $offset: 6px {
  @mixin callout-position auto, auto, -$offset, 50%;
  margin-bottom: calc($offset * 1.5);

  &::before { margin-left: -2%; }
}

@define-mixin callout-bottom-right $offset: 6px {
  @mixin callout-position auto, $offset, -$offset;
  margin-bottom: calc($offset * 1.5);

  &::before { margin-right: -2%; }
}

@define-mixin callout-bottom-left $offset: 6px {
  @mixin callout-position auto, auto, -$offset, $offset;
  margin-bottom: calc($offset * 1.5);

  &::before { margin-left: -2%; }
}

@define-mixin callout-right $offset: 6px {
  @mixin callout-position auto, -$offset, 50%;
  margin-right: calc($offset * 1.5);

  &::before { margin-bottom: -1%; }
}

@define-mixin callout-right-top $offset: 6px {
  @mixin callout-position $offset, -$offset;
  margin-right: calc($offset * 1.5);

  &::before { margin-top: -2%; }
}

@define-mixin callout-right-bottom $offset: 6px {
  @mixin callout-position auto, -$offset, $offset;
  margin-right: calc($offset * 1.5);

  &::before { margin-bottom: -2%; }
}

@define-mixin callout-left $offset: 6px {
  @mixin callout-position auto, auto, 50%, -$offset;
  margin-left: calc($offset * 1.5);

  &::before { margin-bottom: -1%; }
}

@define-mixin callout-left-top $offset: 6px {
  @mixin callout-position $offset, auto, auto, -$offset;
  margin-left: calc($offset * 1.5);

  &::before { margin-top: -2%; }
}

@define-mixin callout-left-bottom $offset: 6px {
  @mixin callout-position auto, auto, $offset, -$offset;
  margin-left: calc($offset * 1.5);

  &::before { margin-bottom: -2%; }
}

